<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Register</title>
        <link rel="stylesheet" href="../../css/style.css">
        <script src="../../js/jquery-3.7.1.min.js"></script>
        <script>
            $(document).ready(function() {
                const form = $('.register-page-form');
                const emailInput = $('#email');
                const newPasswordInput = $('#password');
                const confirmPasswordInput = $('#confirm_password');

                form.on('submit', function(event) {
                    const emailValue = emailInput.val().trim();
                    const newPassword = newPasswordInput.val().trim();
                    const confirmPassword = confirmPasswordInput.val().trim();

                    if (emailValue === '' || !emailValue.includes('@') || !emailValue.includes('.')) {
                        event.preventDefault();
                        alert('Please enter a valid email address.');
                        emailInput.focus();
                        return;
                    }

                    if (newPassword.length < 8) {
                        event.preventDefault();
                        alert('Password must be at least 8 characters long.');
                        newPasswordInput.focus();
                        return;
                    }

                    if (newPassword !== confirmPassword) {
                        event.preventDefault();
                        alert('Passwords do not match. Please re-enter.');
                        confirmPasswordInput.focus();
                        return;
                    }

                    event.preventDefault();
                    window.location.href = '../main.html';
                });

                $('#email').on('change', function() {
                    console.log('Email input changed to: ' + $(this).val());
                });
            });
        </script>
    </head>
    <body>
        <a href="../main.html"><button type="button" class="register-page-back-btn">Back</button></a>
        <form class="register-page-form">
            <div class="register-page-header">
                <a href="login.html"><h2> Login </h2></a>
                <h2> Register </h2>
            </div>
            <div class="register-page-container">
                <h1>Register</h1>
                <p>Please fill in this form to create an account.</p>
                <hr class="register-page-divider">

                <label for="email"><b>Email</b></label>
                <input type="email" id="email" placeholder="Enter Email" name="email" required class="register-page-input"><br/>

                <label for="password"><b>Password</b></label>
                <input type="password" id="password" placeholder="Enter Password" name="password" minlength="8" required class="register-page-input" autocomplete="new-password"><br/>

                <label for="psw-repeat"><b>Repeat Password</b></label>
                <input type="password" id="confirm_password" placeholder="Repeat Password" name="confirm_password" minlength="8" required class="register-page-input" autocomplete="new-password"><br/>

                <label>
                    <input type="checkbox" checked="checked" name="remember" style="margin-bottom:15px"> Remember me
                </label>

                <p>By creating an account you agree to our <a href="https://en.wikipedia.org/wiki/Terms_of_service" style="color:dodgerblue"> Terms & Privacy</a>.</p>
                <div class="register-page-clearfix register-page-button-container">
                    <button type="submit" class="register-page-submit-btn" id="goinput">Sign Up</button>
                </div>
            </div>
        </form>
    </body>
</html>